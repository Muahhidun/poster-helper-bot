# ‚úÖ –≠—Ç–∞–ø 1 –ó–∞–≤–µ—Ä—à–µ–Ω: –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è multi-account

## –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ:

### 1. –ù–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

–î–æ–±–∞–≤–ª–µ–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞ `poster_accounts`:
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö Poster –∞–∫–∫–∞—É–Ω—Ç–æ–≤ –¥–ª—è –æ–¥–Ω–æ–≥–æ Telegram –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –º–∏–≥—Ä–∞—Ü–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö
- –§–ª–∞–≥ `is_primary` –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –≥–ª–∞–≤–Ω–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞

### 2. –ù–æ–≤—ã–µ –º–µ—Ç–æ–¥—ã –≤ database.py

```python
db.get_accounts(telegram_user_id)           # –í—Å–µ –∞–∫–∫–∞—É–Ω—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
db.get_primary_account(telegram_user_id)    # –û—Å–Ω–æ–≤–Ω–æ–π –∞–∫–∫–∞—É–Ω—Ç (Pizzburg)
db.get_account_by_name(user_id, name)       # –ê–∫–∫–∞—É–Ω—Ç –ø–æ –∏–º–µ–Ω–∏
db.add_account(...)                         # –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π –∞–∫–∫–∞—É–Ω—Ç
```

### 3. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –º–∏–≥—Ä–∞—Ü–∏—è

–ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ –±–æ—Ç–∞ –Ω–∞ Railway:
- –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ `users` ‚Üí `poster_accounts`
- –í–∞—à —Ç–µ–∫—É—â–∏–π –∞–∫–∫–∞—É–Ω—Ç —Å—Ç–∞–Ω–µ—Ç primary —Å –∏–º–µ–Ω–µ–º "Pizzburg"
- –ë–æ—Ç –ø—Ä–æ–¥–æ–ª–∂–∏—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –∫–∞–∫ —Ä–∞–Ω—å—à–µ

## üìã –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:

### –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É –º–∏–≥—Ä–∞—Ü–∏–∏

–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –Ω–∞ Railway:
1. –ë–æ—Ç –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è
2. –ú–∏–≥—Ä–∞—Ü–∏—è –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
3. –í –ª–æ–≥–∞—Ö Railway –ø–æ—è–≤–∏—Ç—Å—è:
   ```
   ‚úÖ Multi-account migration: moved 1 users to poster_accounts
   ```

### –®–∞–≥ 2: –î–æ–±–∞–≤–∏—Ç—å –≤—Ç–æ—Ä–æ–π –∞–∫–∫–∞—É–Ω—Ç (Pizzburg-cafe)

–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –Ω–∞ Railway –∏–ª–∏ –ª–æ–∫–∞–ª—å–Ω–æ:
```bash
python3 add_pizzburg_cafe.py
```

–ò–ª–∏ –¥–æ–±–∞–≤—å—Ç–µ –≤—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ Python:
```python
from database import get_database

db = get_database()
db.add_account(
    telegram_user_id=167084307,
    account_name="Pizzburg-cafe",
    poster_token="881862:431800518a877398e5c4d1d3b9c76cee",
    poster_user_id="881862",
    poster_base_url="https://joinposter.com/api",
    is_primary=False
)
```

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∞–∫–∫–∞—É–Ω—Ç—ã

```python
from database import get_database

db = get_database()
accounts = db.get_accounts(167084307)
for acc in accounts:
    print(f"{acc['account_name']} - Primary: {acc['is_primary']}")
```

–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
```
Pizzburg - Primary: True
Pizzburg-cafe - Primary: False
```

## üéØ –°–ª–µ–¥—É—é—â–∏–π —ç—Ç–∞–ø: –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –º–∏–≥—Ä–∞—Ü–∏–∏ –∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≤—Ç–æ—Ä–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞, –Ω–∞—á–Ω–µ–º **–≠—Ç–∞–ø 2**:
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–æ–≤ –∏–∑ –æ–±–æ–∏—Ö –∞–∫–∫–∞—É–Ω—Ç–æ–≤
- –•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –æ—Ç–¥–µ–ª—å–Ω–æ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞
- –£–º–Ω—ã–π –ø–æ–∏—Å–∫ –≤ –¥–≤—É—Ö –æ—Ç–¥–µ–ª–∞—Ö

## ‚ö†Ô∏è –û—Ç–∫–∞—Ç (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

–ß—Ç–æ–±—ã –≤–µ—Ä–Ω—É—Ç—å—Å—è –∫ –æ–¥–Ω–æ–º—É –∞–∫–∫–∞—É–Ω—Ç—É:
```bash
git checkout claude/test-bot-invoice-011CUt6CoXk5nTPDiUx67dcB
```

–í—Å–µ –≤–µ—Ä–Ω–µ—Ç—Å—è –∫–∞–∫ –±—ã–ª–æ, –±–æ—Ç –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å –æ–¥–Ω–∏–º –∞–∫–∫–∞—É–Ω—Ç–æ–º.

## ‚úÖ –ì–æ—Ç–æ–≤–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å

–¢–µ–∫—É—â–∞—è –≤–µ—Ç–∫–∞: `claude/multi-account-support`

–ú–æ–∂–µ—Ç–µ:
1. –ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
2. –ó–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å—ã
3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ (–µ—Å–ª–∏ –µ—Å—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ SQLite)
4. –ò–ª–∏ —Å—Ä–∞–∑—É –¥–µ–ø–ª–æ–∏—Ç—å –Ω–∞ Railway –¥–ª—è —Ç–µ—Å—Ç–∞ –º–∏–≥—Ä–∞—Ü–∏–∏
