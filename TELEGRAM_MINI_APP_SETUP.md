# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Telegram Mini App

## –®–∞–≥ 1: Build Mini App

### –õ–æ–∫–∞–ª—å–Ω–æ (–¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)

```bash
cd mini_app
npm install
npm run build
```

### –ù–∞ Railway (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)

Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç build –ø—Ä–∏ deploy —á–µ—Ä–µ–∑:
```bash
npm run build:miniapp
```

## –®–∞–≥ 2: Deploy –Ω–∞ Railway

1. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –∫–æ–¥ –∑–∞–ª–∏—Ç –Ω–∞ GitHub
2. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ Railway –∫ –≤–∞—à–µ–º—É —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—é
3. Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
   - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
   - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç Node.js –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
   - –í—ã–ø–æ–ª–Ω–∏—Ç build Mini App
   - –ó–∞–ø—É—Å—Ç–∏—Ç Flask —Å–µ—Ä–≤–µ—Ä

## –®–∞–≥ 3: –ü–æ–ª—É—á–∏—Ç—å URL –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

–ü–æ—Å–ª–µ deploy –Ω–∞ Railway:

1. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à –ø—Ä–æ–µ–∫—Ç –Ω–∞ Railway
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ Settings ‚Üí Domains
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ URL, –Ω–∞–ø—Ä–∏–º–µ—Ä: `https://your-app.railway.app`

## –®–∞–≥ 4: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Menu Button –≤ BotFather

1. –û—Ç–∫—Ä–æ–π—Ç–µ Telegram –∏ –Ω–∞–π–¥–∏—Ç–µ @BotFather
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É `/mybots`
3. –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞ –∏–∑ —Å–ø–∏—Å–∫–∞
4. –í—ã–±–µ—Ä–∏—Ç–µ `Bot Settings`
5. –í—ã–±–µ—Ä–∏—Ç–µ `Menu Button`
6. –í—ã–±–µ—Ä–∏—Ç–µ `Configure Menu Button` –∏–ª–∏ `Edit Menu Button URL`
7. –í–≤–µ–¥–∏—Ç–µ URL:
   ```
   https://your-app.railway.app/mini-app
   ```
8. –í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç –∫–Ω–æ–ø–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä):
   ```
   –û—Ç–∫—Ä—ã—Ç—å –ø–∞–Ω–µ–ª—å
   ```
   –∏–ª–∏
   ```
   üìä Dashboard
   ```

## –®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä–∫–∞

1. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞ –≤ Telegram
2. –í–Ω–∏–∑—É –¥–æ–ª–∂–Ω–∞ –ø–æ—è–≤–∏—Ç—å—Å—è –∫–Ω–æ–ø–∫–∞ Menu (‚ò∞)
3. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –Ω–µ—ë
4. –î–æ–ª–∂–µ–Ω –æ—Ç–∫—Ä—ã—Ç—å—Å—è Mini App —Å Dashboard

## –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–±: Inline –∫–Ω–æ–ø–∫–∞

–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –æ—Ç–∫—Ä—ã–≤–∞—Ç—å Mini App —á–µ—Ä–µ–∑ inline –∫–Ω–æ–ø–∫—É –≤ —Å–æ–æ–±—â–µ–Ω–∏–∏:

```python
from telegram import InlineKeyboardButton, InlineKeyboardMarkup

keyboard = [
    [InlineKeyboardButton(
        "üìä –û—Ç–∫—Ä—ã—Ç—å Dashboard",
        web_app=WebAppInfo(url="https://your-app.railway.app/mini-app")
    )]
]
reply_markup = InlineKeyboardMarkup(keyboard)

await update.message.reply_text(
    "–û—Ç–∫—Ä–æ–π—Ç–µ Mini App:",
    reply_markup=reply_markup
)
```

## –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏

Mini App –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Telegram WebApp initData –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏.

–£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ:
1. `TELEGRAM_TOKEN` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ Railway Environment Variables
2. URL –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π (–¥–æ–ª–∂–µ–Ω –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å `https://`)
3. Mini App –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è **—Ç–æ–ª—å–∫–æ** —á–µ—Ä–µ–∑ Telegram (–Ω–µ –Ω–∞–ø—Ä—è–º—É—é –≤ –±—Ä–∞—É–∑–µ—Ä–µ)

## Debugging

### Mini App –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ build —Å–æ–∑–¥–∞–Ω —É—Å–ø–µ—à–Ω–æ:
   ```bash
   ls -la mini_app/dist/
   ```

2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ Railway –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫

3. –û—Ç–∫—Ä–æ–π—Ç–µ URL –≤ –±—Ä–∞—É–∑–µ—Ä–µ –Ω–∞–ø—Ä—è–º—É—é:
   ```
   https://your-app.railway.app/mini-app
   ```

   –î–æ–ª–∂–Ω–∞ –∑–∞–≥—Ä—É–∑–∏—Ç—å—Å—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ (–Ω–æ API –∑–∞–ø—Ä–æ—Å—ã –±—É–¥—É—Ç –ø–∞–¥–∞—Ç—å –±–µ–∑ Telegram)

### API –∑–∞–ø—Ä–æ—Å—ã –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç 401

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ `TELEGRAM_TOKEN` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ Railway
2. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ Mini App –æ—Ç–∫—Ä—ã—Ç —á–µ—Ä–µ–∑ Telegram (–Ω–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ)
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ DevTools —á—Ç–æ headers —Å–æ–¥–µ—Ä–∂–∞—Ç `X-Telegram-Init-Data`

### Styling –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤—Å–µ CSS —Ñ–∞–π–ª—ã —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω—ã –≤ dist:
   ```bash
   cd mini_app
   npm run build
   ls -la dist/assets/
   ```

2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ Vite –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏–ª base path:
   ```typescript
   // vite.config.ts
   base: '/mini-app/'
   ```

## Environment Variables –Ω–∞ Railway

–£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã:

```
TELEGRAM_TOKEN=your_bot_token_here
FLASK_SECRET_KEY=your_secret_key_here
DATABASE_URL=(–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç Railway)
```

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è —Ü–≤–µ—Ç–æ–≤

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ü–≤–µ—Ç–æ–≤—É—é —Å—Ö–µ–º—É Telegram.

–î–ª—è –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏–∏ —Å–æ–∑–¥–∞–π—Ç–µ theme –≤ BotFather:
```
/mybots ‚Üí [–í–∞—à –±–æ—Ç] ‚Üí Bot Settings ‚Üí Theme
```

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —É–≤–∏–¥—è—Ç –∫–Ω–æ–ø–∫—É Menu –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ BotFather.

### MainButton API

–ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Telegram MainButton –¥–ª—è –¥–µ–π—Å—Ç–≤–∏–π:

```typescript
webApp.MainButton.setText('–°–æ—Ö—Ä–∞–Ω–∏—Ç—å')
webApp.MainButton.show()
webApp.MainButton.onClick(() => {
  // –î–µ–π—Å—Ç–≤–∏–µ
})
```

## –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [Telegram Mini Apps Documentation](https://core.telegram.org/bots/webapps)
- [Telegram WebApp SDK Reference](https://core.telegram.org/bots/webapps#initializing-mini-apps)
- [BotFather Commands](https://core.telegram.org/bots#botfather)

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ Railway
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ console –≤ DevTools –±—Ä–∞—É–∑–µ—Ä–∞
3. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
4. –ü–µ—Ä–µ—Å–æ–∑–¥–∞–π—Ç–µ build: `cd mini_app && npm run build`
