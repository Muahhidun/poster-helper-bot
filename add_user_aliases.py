"""–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –∞–ª–∏–∞—Å–æ–≤ –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö"""
import logging
from database import get_database

logging.basicConfig(level=logging.INFO, format='%(levelname)s: %(message)s')
logger = logging.getLogger(__name__)


# –ê–ª–∏–∞—Å—ã –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
ALIASES_DATA = """
–ö–æ–ª–∞ –ü–≠–¢ 1–ª—Ö12    –ö–æ–∫–∞-–ö–æ–ª–∞ 1–ª
–ö–æ–ª–∞ –ü–≠–¢ 500–º–ª—Ö24    –ö–æ–∫–∞-–ö–æ–ª–∞ 0,5–ª
–§–∞–Ω—Ç–∞ –ê–ø–µ–ª –ü–≠–¢ 1–ª—Ö12    –§–∞–Ω—Ç–∞ 1–ª
–§–∞–Ω—Ç–∞ –ê–ø–µ–ª –ü–≠–¢ 500–º–ª 1—Ö24    –§–∞–Ω—Ç–∞ 0,5–ª
–°–ø—Ä–∞–π—Ç –ü—ç—Ç 1–ª—Ö12    –°–ø—Ä–∞–π—Ç 1–ª
–°–ø—Ä–∞–π—Ç –ü—ç—Ç 500–º–ª 1—Ö12    –°–ø—Ä–∞–π—Ç 0,5–ª
–ü–∏–∫–æ –ü–∞–ø–∏–π –ê–ø–µ–ª –ü–≠–¢ 1–ª—Ö12    –ü–∏–∫–æ 1–ª
–ü–∏–∫–æ –ü–∞–ª–ø–∏ –ê–ø–µ–ª –ü–≠–¢ 500 –º–ª    –ü–∏–∫–æ 0,5–ª
–ü–∏–∫–æ –ú—É–ª—å—Ç–∏ –¢–µ—Ç—Ä–∞ 200–º–ª    –ü–∏–∫–æ –¢–µ—Ç—Ä–∞ 0,2–ª
–ü–∏–∫–æ –ü–µ—Ä—Å–∏–∫ –¢–µ—Ç—Ä–∞ 200–º–ª    –ü–∏–∫–æ –¢–µ—Ç—Ä–∞ 0,2–ª
–ü–∏–∫–æ –ú—É–ª—å—Ç–∏ –¢–µ—Ç—Ä–∞ 1–ª—Ö10    –ü–∏–∫–æ –¢–µ—Ç—Ä–∞ 1–ª
–ü–∏–∫–æ –ò–º–º—É–Ω–∏—Ç–µ—Ç –¢–µ—Ç—Ä–∞ 1–ª—Ö10    –ü–∏–∫–æ –¢–µ—Ç—Ä–∞ 1–ª
–ü–∏–∫–æ –Ø–±–ª–æ–∫–æ –¢–µ—Ç—Ä–∞ 1–ª—Ö10    –ü–∏–∫–æ –¢–µ—Ç—Ä–∞ 1–ª
–ë–æ–Ω–∞–∫–≤–∞ –ù–µ–≥–∞–∑ –ü–≠–¢ 1–ª—Ö12    –ë–æ–Ω–∞–∫–≤–∞ 1–ª
–ë–æ–Ω–∞–∫–≤–∞ –ù–µ–≥–∞–∑ –ü–≠–¢ 500–º–ª    –ë–æ–Ω–∞–∫–≤–∞ 0,5–ª
–§—å—é—Å –ú–∞–Ω–≥–æ‚Äë–ê–Ω–∞–Ω–∞—Å –ü–≠–¢ 500 –º–ª    –§—å—é—Å —á–∞–π 0,5–ª
–§—å—é—Å –ü–µ—Ä—Å–∏–∫ –ü–≠–¢ 500—Ö12    –§—å—é—Å —á–∞–π 0,5–ª
–§—å—é—Å –Ø–≥–æ–¥–Ω—ã–π –ü–≠–¢ 500—Ö12    –§—å—é—Å —á–∞–π 0,5–ª
–§—å—é—Å –õ–∏–º–æ–Ω –ü–≠–¢ 500—Ö12    –§—å—é—Å —á–∞–π 0,5–ª
–§—å—é—Å (–≤–∫—É—Å —è–≥–æ–¥–Ω—ã–π) –ü–≠–¢ 500—Ö12    –§—å—é—Å —á–∞–π 0,5–ª
–§—å—é—Å (–≤–∫—É—Å —è–≥–æ–¥–Ω—ã–π) –ü–≠–¢ 1–ª√ó12    –§—å—é—Å —á–∞–π 1–ª
–§—å—é—Å –ú–∞–Ω–≥-–ê–Ω–∞–Ω –ü–≠–¢ 1–ª√ó12    –§—å—é—Å —á–∞–π 1–ª
–§—å—é—Å –Ø–≥–æ–¥–Ω—ã–π –ü–≠–¢ 1–ª√ó12    –§—å—é—Å —á–∞–π 1–ª
–§—å—é—Å –ü–µ—Ä—Å–∏–∫ –ü–≠–¢ 1–ª√ó12    –§—å—é—Å —á–∞–π 1–ª
–§—å—é—Å –õ–∏–º–æ–Ω –ü–≠–¢ 1–ª√ó12    –§—å—é—Å —á–∞–π 1–ª
–ö–æ–ª–∞ –ü–æ—Å—Ç–º–∏–∫—Å 20–ª—Ö1    –°–∏—Ä–æ–ø
–ë—É–ª–æ—á–∫–∞ –¥–ª—è –≥–∞–º–±—É—Ä–≥–µ—Ä–∞ —Å –∫—É–Ω–∂—É—Ç–æ–º 114–º–º*75–≥—Ä    –ë—É–ª–æ—á–∫–∞ –∫—É–Ω–∂—É—Ç 11,4 (30—à—Ç)
–ë—É–ª–æ—á–∫–∞ –¥–ª—è –≥–∞–º–±—É—Ä–≥–µ—Ä–∞ —Å –∫—É–Ω–∂—É—Ç–æ–º 100–º–º*52–≥*48—à—Ç    –ú–∏–Ω–∏ –ë—É–ª–æ—á–∫–∞ 10—Å–º
–ë—É–ª–∫–∞ –¥–ª—è –≥–∞–º–±—É—Ä–≥–µ—Ä–∞ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–∞—è —á–µ—Ä–Ω–∞—è 89–≥*24—à—Ç    –ë—É–ª–æ—á–∫–∞ —á–µ—Ä–Ω–∞—è (24—à—Ç)
–ë—É–ª–∫–∞ –¥–ª—è –±—É—Ä–≥–µ—Ä–∞ –ë—Ä–∏–æ—à—å 84–≥—Ä*24—à—Ç*125–º–º    –ë—É–ª–æ—á–∫–∞ –ë—Ä–∏–æ—à (24—à—Ç)
–ë—É–ª–æ—á–∫–∞ –¥–ª—è –¥–∞—Ç—Å–∫–æ–≥–æ —Ö–æ—Ç-–¥–æ–≥–∞ —Å –∫—É–Ω–∂—É—Ç–æ–º 60–≥—Ä*36—à—Ç    –ë—É–ª–æ—á–∫–∞ –•–æ—Ç-–î–æ–≥ (36—à—Ç)
–ë–∞–≥–µ—Ç –¥–ª—è —Ñ—Ä–∞–Ω—Ü—É–∑—Å–∫–æ–≥–æ —Ö–æ—Ç-–¥–æ–≥–∞ 60–≥—Ä*40—à—Ç    –ë—É–ª–æ—á–∫–∞ –§—Ä–µ–Ω—á–î–æ–≥ (40—à—Ç)
–°–æ—Å–∏—Å–∫–∏ –ì—Ä–∏–ª—å —Å –≥–æ–≤—è–¥–∏–Ω–æ–π –∑–∞–º –≤/—É    –°–æ—Å–∏—Å–∫–∏ –ì–æ–≤—è–∂–∏–µ (–ì—Ä–∏–ª—å)
–°–æ—Å–∏—Å–∫–∏ –ß–∏–∫–µ–Ω-–°–ø–∞–π—Å–∏ –∑–∞–º –≤/—É    –°–æ—Å–∏—Å–∫–∏ –ö—É—Ä–∏–Ω—ã–µ (–ß–∏–∫–µ–Ω–°–ø–∞–π—Å–∏)
–°–æ—Å–∏—Å–∫–∏ –¥–ª—è —Ö–æ—Ç-–¥–æ–≥–æ–≤ –∏–∑ –≥–æ–≤—è–¥–∏–Ω—ã –≤/—É    –°–æ—Å–∏—Å–∫–∏ –ì–æ–≤—è–∂–∏–µ (–ì—Ä–∏–ª—å)
–ü–∞–ª–æ—á–∫–∏ —Å—ã—Ä–Ω—ã–µ ¬´–ú–æ—Ü–∞—Ä–µ–ª–ª–∞¬ª –≤ –ø–∞–Ω–∏—Ä–æ–≤–∫–µ –†–æ—Å—Å–∏—è    –°—ã—Ä–Ω—ã–µ –ø–∞–ª–æ—á–∫–∏ 1–∫–≥
–ú–æ–ª–æ–∫–æ—Å–æ–¥–µ—Ä–∂–∞—â–∏–π –ø—Ä–æ–¥—É–∫—Ç ¬´–ú–æ—Ü–∞—Ä–µ–ª–ª–∞¬ª Original Alti 2000–≥    –ú–æ—Ü–∞—Ä–µ–ª–ª–∞ (–û—Ä–∏–≥–∏–Ω–∞–ª/–≠–∫—Å—Ç—Ä–∞)
–ü—Ä–∏–ø—Ä–∞–≤–∞ –ª—É–∫ –∂–∞—Ä–µ–Ω—ã–π KOTANYI 1–∫–≥    –ñ–∞—Ä–µ–Ω—ã–π –ª—É–∫
–°—ã—Ä –ø–ª–∞–≤–ª–µ–Ω—ã–π Hochland –ª–æ–º—Ç–∏–∫–∏    –°—ã—Ä –ß–µ–¥–¥–µ—Ä (90—à—Ç/—É–ø–∫) –•–æ—Ö–ª–∞–Ω–¥
–ö–æ–ª–±–∞—Å–∞ —Å—ã—Ä–æ–∫–æ–ø—á–µ–Ω–∞—è –ø–µ–ø–ø–µ—Ä–æ–Ω–∏ –≥–æ–≤—è–∂—å—è Pro–úeat 1–∫–≥    –ü–µ–ø–ø–µ—Ä–æ–Ω–∏ –Ω–∞—Ä–µ–∑–∫–∞ 1–∫–≥
–ö–æ–ª–±–∞—Å–∞ —Å/–∫ ¬´–ü–µ–ø–ø–µ—Ä–æ–Ω–∏ –°—Ç–∞–Ω–¥–∞—Ä—Ç¬ª, –Ω–∞—Ä–µ–∑–∫–∞, –∑/–≤, –∑–∞–º, 1000 –≥, –ù–æ–≤–ï–¥–∞    –ü–µ–ø–ø–µ—Ä–æ–Ω–∏ –Ω–∞—Ä–µ–∑–∫–∞ 1–∫–≥
–ú–æ–ª–æ–∫–æ—Å–æ–¥–µ—Ä–∂–∞—â–∏–π –ø—Ä–æ–¥—É–∫—Ç ¬´–ú–æ—Ü–∞—Ä–µ–ª–ª–∞ Original Alti¬ª 2000 –≥, –º–∞—Å—Å–æ–≤–∞—è –¥–æ–ª—è –∂–∏—Ä–∞ 48%    –ú–æ—Ü–∞—Ä–µ–ª–ª–∞ (–û—Ä–∏–≥–∏–Ω–∞–ª/–≠–∫—Å—Ç—Ä–∞)
–ú–æ–ª–æ–∫–æ—Å–æ–¥–µ—Ä–∂–∞—â–∏–π –ø—Ä–æ–¥—É–∫—Ç ¬´–ú–æ—Ü–∞—Ä–µ–ª–ª–∞¬ª Original Alti 2000 –≥ (48% –∂–∏—Ä)    –ú–æ—Ü–∞—Ä–µ–ª–ª–∞ (–û—Ä–∏–≥–∏–Ω–∞–ª/–≠–∫—Å—Ç—Ä–∞)
–í–µ—Ç—á–∏–Ω–∞ –∏–∑ –∫—É—Ä–∏–Ω—ã—Ö –≥—Ä—É–¥–æ–∫ –∑–∞–º–æ—Ä–æ–∂–µ–Ω–Ω—ã–π 1 –∫–≥ (–í–¢–ù –ù–ö–°) –ö–ë    –í–µ—Ç—á–∏–Ω–∞ –∏–∑ –∫—É—Ä–∏–Ω–æ–≥–æ —Ñ–∏–ª–µ (–ò–Ω–∞—Ä–∏–Ω)
–í–µ—Ç—á–∏–Ω–∞ –∏–∑ –º—è—Å–∞ –ø—Ç–∏—Ü—ã –ö/–í 80/5–∫–≥/1 –ø–∞—á–∫–∞    –í–µ—Ç—á–∏–Ω–∞ (–°–º–æ–ª–ª)
–í–µ—Ç—á–∏–Ω–∞ –∏–∑ –º—è—Å–∞ –ø—Ç–∏—Ü—ã, –∫/–≤, –ø–æ 0,5 –∫–≥/1 –ø–∞—á–∫–∞    –í–µ—Ç—á–∏–Ω–∞ (–°–º–æ–ª–ª)
–ü–∏—Ü—Ü–∞ —Å–æ—É—Å –∞—Ä–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π ADRIATA 3√ó500–≥    –ü–æ–ª—å–ø–∞ (5–∫–≥) –ú—É—Ç—Ç–∏
–ü–∏—Ü—Ü–∞ —Å–æ—É—Å –∞—Ä–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π ADRIATA (–∂/–±, 3√ó5000 –≥)    –ü–æ–ª—å–ø–∞ (5–∫–≥) –ú—É—Ç—Ç–∏
CHEF GOURMET 4050 –≥ FINE –∫—Ä–∞—Å–Ω—ã–π    –ü–æ–ª—å–ø–∞ (5–∫–≥) –ú—É—Ç—Ç–∏
–ö–∞—Ä—Ç–æ—Ñ–µ–ª—å —Ñ—Ä–∏ TR46 BD 9√ó9 5/2.5 –∫–≥ –¢—Ä–∏—É–º—Ñ    –§—Ä–∏
–ö–∞—Ä—Ç–æ—Ñ–µ–ª—å —Ñ—Ä–∏ (TR46 BD) 9√ó9, 5√ó2,5 –∫–≥, –¢—Ä–∏—É–º—Ñ    –§—Ä–∏
–ö–∞—Ä—Ç–æ—Ñ–µ–ª—å —Ñ—Ä–∏ 10 –º–º –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ –æ–±–∂–∞—Ä–µ–Ω–Ω—ã–π –∏ –∑–∞–º–æ—Ä–æ–∂–µ–Ω–Ω—ã–π (5√ó2500 –≥)    –§—Ä–∏
–ü–∞–ª–æ—á–∫–∏ —Å—ã—Ä–Ω—ã–µ –ú–æ—Ü–∞—Ä–µ–ª–ª–∞ ¬´–û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ¬ª –≤ –ø–∞–Ω–∏—Ä–æ–≤–∫–µ 1 –∫–≥, –Æ–Ω–∏—Ñ—É–¥, –†–æ—Å—Å–∏—è    –°—ã—Ä–Ω—ã–µ –ø–∞–ª–æ—á–∫–∏ 1–∫–≥
–ü–∞–ª–æ—á–∫–∏ —Å—ã—Ä–Ω—ã–µ ¬´–ú–æ—Ü–∞—Ä–µ–ª–ª–∞¬ª –≤ –ø–∞–Ω–∏—Ä–æ–≤–∫–µ 22‚Äì25 –≥, 1 –∫–≥, –†–æ—Å—Å–∏—è    –°—ã—Ä–Ω—ã–µ –ø–∞–ª–æ—á–∫–∏ 1–∫–≥
–ü–∞–Ω–∏—Ä–æ–≤–æ—á–Ω–∞—è —Å–º–µ—Å—å –û—Å—Ç—Ä–∞—è ¬´–ì—É—Ä–º–∏–µ—Ü¬ª, 2 –∫–≥    –û—Å—Ç—Ä–∞—è –ø–∞–Ω–∏—Ä–æ–≤–∫–∞ (240–≥—Ä)
–ü–∞–Ω–∏—Ä–æ–≤–æ—á–Ω—ã–µ —Å–º–µ—Å–∏ –û—Å—Ç—Ä–∞—è ¬´–ì—É—Ä–º–∏–µ—Ü¬ª    –û—Å—Ç—Ä–∞—è –ø–∞–Ω–∏—Ä–æ–≤–∫–∞ (240–≥—Ä)
–°—ã—Ä –ø–ª–∞–≤–ª–µ–Ω—ã–π Hochland –ª–æ–º—Ç–∏–∫–∏ Bistro 1 –∫–≥    –°—ã—Ä –ß–µ–¥–¥–µ—Ä (90—à—Ç/—É–ø–∫) –•–æ—Ö–ª–∞–Ω–¥
–ö–µ—Ç—á—É–ø —Ç–æ–º–∞—Ç–Ω—ã–π 25 –≥    –ö–µ—Ç—á—É–ø 25–≥—Ä (–ü–æ—Å—Ç–∞–≤–∫–∞)
–ü–∏—Ü—Ü–∞ —Å–æ—É—Å CHEF GOURMET —Å–æ —Å–ø–µ—Ü–∏—è–º–∏ 4.1 –∫–≥    –ü–æ–ª—å–ø–∞ (5–∫–≥) –ú—É—Ç—Ç–∏
–ö–∞—Ä—Ç–æ—Ñ–µ–ª—å —Ñ—Ä–∏ Farm Frites –∫–ª–∞—Å—Å –ê, 2.5 –∫–≥    –§—Ä–∏
–ù–∞–≥–≥–µ—Ç—Å—ã —Ç–µ–º–ø—É—Ä–Ω—ã–µ 2 –∫–≥ –≥/—è 12 –∫–≥    –ù–∞–≥–≥–µ—Ç—Å—ã
–û–ª–∏–≤–∫–æ–≤–æ–µ –º–∞—Å–ª–æ ¬´VKUSNEL¬ª 5 –ª    –û–ª–∏–≤–∫–æ–µ –º–∞—Å–ª–æ 5–ª
–ö–æ—Ä–æ–±–∫–∏ –ø–æ–¥ –ø–∏—Ü—Ü—É 32√ó32    –ü–∏—Ü—Ü–∞ –∫–æ—Ä–æ–±–∫–∞
–ü–µ—Ä—á–∞—Ç–∫–∏ –ø–æ–ª–∏—ç—Ç–∏–ª–µ–Ω–æ–≤—ã–µ –æ–¥–Ω–æ—Ä–∞–∑–æ–≤—ã–µ 100 —à—Ç    –ü–µ—Ä—á–∞—Ç–∫–∏ –ë—É—Ä–≥–µ—Ä (–ü–ù–î –æ–¥–Ω–æ—Ä–∞–∑–æ–≤—ã–µ)
–¢–æ—Ä—Ç–∏–ª—å—è –ø—à–µ–Ω–∏—á–Ω–∞—è —Å–æ –≤–∫—É—Å–æ–º —Å—ã—Ä–∞ –∑–∞–º–æ—Ä–æ–∂–µ–Ω–Ω–∞—è 800–≥    –¢–æ—Ä—Ç–∏–ª—å—è —Å—ã—Ä–Ω–∞—è (12—à—Ç)
–°–æ—É—Å —Å—ã—Ä–Ω—ã–π 25 –≥    –°—ã—Ä–Ω—ã–π —Å–æ—É—Å –¥–∏–ø –ø–æ—Ç (–ø–æ—Ä—Ü–∏–æ–Ω–Ω—ã–π)
–°–æ—É—Å –º–∞–π–æ–Ω–µ–∑–Ω—ã–π ¬´–°—ã—Ä–Ω—ã–π¬ª 42% PRO 1 –∫–≥ –∫–æ—Ä–æ–± 6 –∫–≥ –¢–ó ASTORIA    –°–æ—É—Å —Å—ã—Ä–Ω—ã–π (–Ω–∞ –±—É—Ä–≥–µ—Ä) 1–∫–≥
–°–æ—É—Å ¬´–ë–∞—Ä–±–µ–∫—å—é¬ª PRO –ö–ë –±–∞–ª–∫ 1 –∫–≥ –∫–æ—Ä–æ–± 6 –∫–≥ –¢–ó ASTORIA    –°–æ—É—Å –±–∞—Ä–±–µ–∫—é (–Ω–∞ –±—É—Ä–≥–µ—Ä) 1–∫–≥
–°—ã—Ä –ë–µ–ª–æ–≤–µ–∂—Å–∫–∏–π –ü–∞—Ä–º–µ–∑–∞–Ω –º–æ–ª–æ–¥–æ–π 40%    –ü–∞—Ä–º–µ–∑–∞–Ω —Å—ã—Ä
–¢–≤–æ—Ä–æ–∂–Ω—ã–π —Å—ã—Ä    –ö—Ä–µ–º–µ—Ç–∞ –•–æ—Ö–ª–∞–Ω–¥ (2,5–∫–≥)
–°–ª–∏–≤–∫–∏ –ë–ú–ö    –°–ª–∏–≤–∫–∏ –ë—Ä—è–Ω—Å–∫ (1–∫–≥)
–ö–∞—Ä—Ç–æ—Ñ–µ–ª—å–Ω—ã–µ –¥–æ–ª—å–∫–∏ –≤ –∫–æ–∂—É—Ä–µ McCain SCIN ON WEDGES 5‚Ä¢2,5 –∫–≥    –ö–∞—Ä—Ç–æ—Ñ–µ–ª—å–Ω—ã–µ –¥–æ–ª—å–∫–∏
–ú–∞–π–æ–Ω–µ–∑ –ü—Ä–æ–≤–æ–Ω—Å–∞–ª—å 67% –ê—Å—Ç–æ—Ä–∏—è –≤–µ–¥—Ä–æ 9,6 –∫–≥    –ú–∞–π–æ–Ω–µ–∑
–ú–∞–π–æ–Ω–µ–∑ "Pechagin Professional" 67% –≤–µ–¥—Ä–æ 10 –ª    –ú–∞–π–æ–Ω–µ–∑
–°—É—Ö–∞—Ä–∏ –ø–∞–Ω–∏—Ä–æ–≤–æ—á–Ω—ã–µ    –ü–∞–Ω–∏—Ä–æ–≤–∫–∞
–ë–∞—Å–∫–µ—Ç EcoTray 800, 115/85√ó220/190√ó42, –∫—Ä–∞—Ñ—Ç (–ù–æ–≤–∏–Ω–∫–∞)    –ö—Ä—ã–ª—ã—à–∫–∏ 6—à—Ç —É–ø–∞–∫–æ–≤–∫–∞ (–ë–∞—Å–∫–µ—Ç 800–º–ª)
–ë–∞—Å–∫–µ—Ç –±—É–º–∞–∂–Ω—ã–π 1000 –º–ª, —Å –∫—Ä—ã—à–∫–æ–π, V46, –∫—Ä–∞—Ñ—Ç (450 —à—Ç/–∫–æ—Ä)    –ö—Ä—ã–ª—ã—à–∫–∏ 12—à—Ç —É–ø–∞–∫–æ–≤–∫–∞ (–ë–∞—Å–∫–µ—Ç 1000–º–ª)
–ë–∞—Å–∫–µ—Ç –±—É–º–∞–∂–Ω—ã–π 2000 –º–ª, —Å –∫—Ä—ã—à–∫–æ–π, V85, –∫—Ä–∞—Ñ—Ç    –ö—Ä—ã–ª—ã—à–∫–∏ 24—à—Ç —É–ø–∞–∫–æ–≤–∫–∞ (–ë–∞—Å–∫–µ—Ç 2000–º–ª)
–ë—É–º–∞–≥–∞ –¥–ª—è –≤—ã–ø–µ—á–∫–∏ 38 —Å–º √ó 50 –º VerdeVita    –ü–µ—Ä–≥–∞–º–µ–Ω—Ç–Ω–∞—è –±—É–º–∞–≥–∞
–ë—É—Ä–≥–µ—Ä –ë–æ–∫—Å ECO BURGER L (DOECO)    –ö—Ä—ã–ª—ã—à–∫–∏ 6—à—Ç —É–ø–∞–∫–æ–≤–∫–∞ (–ë–∞—Å–∫–µ—Ç 800–º–ª)
–ú–∞–π–∫–∞ –±–µ–∑ —Ä—É—á–µ–∫, —Ä—É–ª–æ–Ω, –ø—Ä–æ–∑—Ä–∞—á–Ω–∞—è, 400 —à—Ç/—Ä—É–ª    –ú–µ—à–æ—á–∫–∏
–ú—É—Å–æ—Ä–Ω—ã–π –ø–∞–∫–µ—Ç 120 –ª VerdeVita / 35 –º–∫ / 70√ó105 —Å–º    –ú–µ—à–æ–∫ –º—É—Å–æ—Ä–Ω—ã–π 120–ª
–ú—É—Å–æ—Ä–Ω—ã–π –ø–∞–∫–µ—Ç 240 –ª, –ø—Ä–æ—á–Ω—ã–µ, 60 –º–∫, 10 —à—Ç –≤ —Ä—É–ª–æ–Ω–µ (90√ó140) YANS    –ú–µ—à–æ–∫ –º—É—Å–æ—Ä–Ω—ã–π 240–ª
–ü–∞–∫–µ—Ç –±–µ–ª—ã–π V‚Äë–∞–Ω–æ, –ó–î–ü 140√ó60√ó250    –ü–∞–∫–µ—Ç 250*140
–ü–∞–∫–µ—Ç –¥–ª—è —Ñ—Ä–∏ V‚Äë–∞–Ω–æ 110√ó50√ó150, –±–µ–ª—ã–π    –§—Ä–∏ —É–ø–∞–∫–æ–≤–∫–∞
–ü–µ—Ä—á–∞—Ç–∫–∏ –ü–ù–î VerdeVita 100 —à—Ç/—É–ø    –ü–µ—Ä—á–∞—Ç–∫–∏ –ë—É—Ä–≥–µ—Ä (–ü–ù–î –æ–¥–Ω–æ—Ä–∞–∑–æ–≤—ã–µ)
–ü–µ—Ä—á–∞—Ç–∫–∏ —Å–º–æ—Ç—Ä–æ–≤—ã–µ, –Ω–∏—Ç—Ä–æ‚Äë–≤–∏–Ω–∏–ª, –Ω–µ–æ–ø—Ä–æ–¥—ã—Ä., –ß–ï–†–ù–´–ï, —Ä–∞–∑–º–µ—Ä S (VerdeVita)    –ü–µ—Ä—á–∞—Ç–∫–∏ –≤–∏–Ω–∏–ª–æ–≤—ã–µ
–ü–µ—Ä—á–∞—Ç–∫–∏ —Å–º–æ—Ç—Ä–æ–≤—ã–µ, –Ω–∏—Ç—Ä–æ‚Äë–≤–∏–Ω–∏–ª, –Ω–µ–æ–ø—Ä–æ–¥—ã—Ä., –ß–ï–†–ù–´–ï, —Ä–∞–∑–º–µ—Ä M (VerdeVita)    –ü–µ—Ä—á–∞—Ç–∫–∏ –≤–∏–Ω–∏–ª–æ–≤—ã–µ
–ü–µ—Ä—á–∞—Ç–∫–∏ –ß–ï–†–ù–´–ï, –Ω–∏—Ç—Ä–∏–ª–æ–≤—ã–µ, —Å–º–æ—Ç—Ä–æ–≤—ã–µ, –Ω–µ–æ–ø—Ä–æ–¥—ã—Ä., —Ä–∞–∑–º–µ—Ä L (MediOk)    –ü–µ—Ä—á–∞—Ç–∫–∏ –≤–∏–Ω–∏–ª–æ–≤—ã–µ
–°–∞–ª—Ñ–µ—Ç–∫–∏ –¥–ª—è –¥–∏—Å–ø–µ–Ω—Å–µ—Ä–æ–≤, 150, 2 —Å–ª–æ—è    –°–∞–ª—Ñ–µ—Ç–∫–∏
–°–æ—É—Å–Ω–∏—Ü–∞ 30 –º–ª, —Å —Å–æ–≤–º–µ—â–µ–Ω–Ω–æ–π –∫—Ä—ã—à–∫–æ–π (1235–ü2) / –∞–Ω–∞–ª–æ–≥ 2301008    –°–æ—É—Å —Ç–∞—Ä—ã 30–º–ª
–°—Ç–∞–∫–∞–Ω 250 –º–ª –±—É–º–∞–∂–Ω—ã–π –¥–ª—è –≥–æ—Ä—è—á–∏—Ö –Ω–∞–ø–∏—Ç–∫–æ–≤ SP9, –∫—Ä–∞—Å–Ω—ã–π    –°—Ç–∞–∫–∞–Ω 250–º–ª (–ø—Ä–∏ –ø–æ–∫—É–ø–∫–µ –Ω–∞–ø–∏—Ç–∫–æ–≤ –±–µ—Å–ø–ª–∞—Ç–Ω–æ)
–¢–∞—Ä–µ–ª–∫–∞ –ø–ª–æ—Å–∫–∞—è d‚Äë180, –±—É–º–∞–∂–Ω–∞—è, –ö—Ä–∞—Ñ—Ç (Verde Vita)    –¢–∞—Ä–µ–ª–∫–∞ –±—É—Ä–≥–µ—Ä–∞
–£–ø–∞–∫–æ–≤–∫–∞ –¥–ª—è —Ö–æ—Ç‚Äë–¥–æ–≥–æ–≤ / –∫–∞—Ä—Ç–æ—Ñ–µ–ª—è —Ñ—Ä–∏ ECO HD BOX 215√ó75√ó40, –∫—Ä–∞—Ñ—Ç    –•–æ—Ç-–î–æ–≥ —Å —Å–æ–±–æ–π —É–ø–∞–∫–æ–≤–∫–∞
–£–ø–∞–∫–æ–≤–∫–∞ –¥–ª—è —Ö–æ—Ç‚Äë–¥–æ–≥–æ–≤ / –∫–∞—Ä—Ç–æ—Ñ–µ–ª—è —Ñ—Ä–∏ ECO HD 165√ó70√ó40 (DOECO)    –õ–æ–¥–æ—á–∫–∞ –•–æ—Ç-–¥–æ–≥ —Ç–∞—Ä–∞
–ß–µ–∫–æ–≤–∞—è –ª–µ–Ω—Ç–∞ R‚ÄëKEEPER 80 –º–º √ó 36 –º (Verde Vita)    –ß–µ–∫–æ–≤–∞—è –ª–µ–Ω—Ç–∞ 80–º–º
–®–ø–∞–∂–∫–∞ –±–∞–º–±—É–∫–æ–≤–∞—è ¬´–ì–æ–ª—å—Ñ¬ª VERDE VITA 120 –º–º (100 —à—Ç/—É–ø)    –®–ø–∞–∂–∫–∏
–í–∏–ª–∫–∏    –í–∏–ª–∫–∏ –æ–¥–Ω–æ—Ä–∞–∑–æ–≤—ã–µ
–ê–Ω–∞–Ω–∞—Å –∫–æ–Ω—Å–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–Ω—ã–π    –ê–Ω–∞–Ω–∞—Å (8 –∫–æ–ª–µ—Ü)
–ì–æ—Ä—á–∏—Ü–∞ –ú–∞—Ö–µ–µ–≤    –ì–æ—Ä—á–∏—Ü–∞ (140–≥—Ä)
–ü–µ—Ç—Ä—É—à–∫–∞ —É–∫—Ä–æ–ø    –ó–µ–ª–µ–Ω—å (–£–∫—Ä–æ–ø/–ü–µ—Ç—Ä—É—à–∫–∞)
–ò–º–±–∏—Ä—å    –ò–º–±–∏—Ä—å –º–æ–ª–æ—Ç—ã–π
–ö–µ—Ç—á—É–ø –≤–µ–¥—Ä–æ    –ö–µ—Ç—á—É–ø –≤–µ—Å–æ–≤–æ–π (5–∫–≥ –≤–µ–¥—Ä–æ)
–ö—Ä –ª—É–∫    –ö—Ä–∞—Å–Ω—ã–π –ª—É–∫
–ú–∞—Å–ª–æ —Ä–∞—Å—Ç–∏—Ç–µ–ª—å–Ω–æ–µ    –ú–∞—Å–ª–æ –ø–æ–¥—Å–æ–ª–Ω–µ—á–Ω–æ–µ
–õ—É–∫ –∫—Ä—É–ø    –õ—É–∫ –ø—Ä–æ—Å—Ç–æ–π
–û–≥—É—Ä—Ü—ã —Å–æ–ª–µ–Ω—ã–µ    –ú–∞—Ä–∏–Ω–æ–≤–∞–Ω–Ω—ã–µ –æ–≥—É—Ä—Ü—ã (2–ª-1–∫–≥)
–†–∞–≤–∞    –û–≥—É—Ä—Ü—ã —Å–≤–µ–∂–∏–µ –†–∞–≤–≤–∞
–ü–∞–ø—Ä–∏–∫–∞    –ü–∞–ø—Ä–∏–∫–∞ –¥–µ—à–µ–≤–∞—è (–ù–∞—Ä—ã–∫)
–ü–µ—Ä–µ—Ü –±–æ–ª–≥    –ü–µ—Ä–µ—Ü –±–æ–ª–≥–∞—Ä—Å–∫–∏–π (–°–≤–µ—Ç–æ—Ñ–æ—Ä)
–°–≤–µ—Ç–æ—Ñ–æ—Ä    –ü–µ—Ä–µ—Ü –±–æ–ª–≥–∞—Ä—Å–∫–∏–π (–°–≤–µ—Ç–æ—Ñ–æ—Ä)
–ü–µ—Ä–µ—Ü –∫—Ä–∞—Å–Ω –º–æ–ª–æ—Ç    –ü–µ—Ä–µ—Ü –∫—Ä–∞—Å–Ω—ã–π –º–æ–ª–æ—Ç—ã–π (50–≥—Ä)
–ø/–≥–æ—Ä—å–∫–∏–π    –ü–µ—Ä–µ—Ü –æ—Å—Ç—Ä—ã–π (–ü–æ–ª—É–≥–æ—Ä—å–∫–∏–π)
–ü–µ—Ä–µ—Ü —á–µ—Ä–Ω –º–æ–ª–æ—Ç    –ü–µ—Ä–µ—Ü —á–µ—Ä–Ω—ã–π –º–æ–ª–æ—Ç—ã–π (100–≥—Ä)
–ü–æ–º–∏–¥–æ—Ä—ã    –ü–æ–º–∏–¥–æ—Ä—ã
–ê–π—Å–±–µ—Ä–≥    –°–∞–ª–∞—Ç –ª–∏—Å—Ç—å—è (–ê–π—Å–±–µ—Ä–≥)
–°–æ–ª—å    –°–æ–ª—å
–¢–µ—Ä–∏—è–∫–∏    –¢–µ—Ä–∏—è–∫–∏ —Å–æ—É—Å (230–≥—Ä)
–°–∞—Ö–∞—Ä    –°–∞—Ö–∞—Ä
–ß–µ—Å–Ω–æ–∫    –ß–µ—Å–Ω–æ–∫
–ì—Ä–∏–±—ã    –®–∞–º–ø–∏–Ω—å–æ–Ω—ã
–°–æ—Å–∏—Å–∫–∏ –ö–Ω—É—Ç    –û—Ö–æ—Ç–Ω–∏—á—å–∏ –∫–æ–ª–±–∞—Å–∫–∏ 250–≥—Ä
–ú–∞—Å–ª–æ    –§—Ä–∏—Ç—é—Ä–Ω–æ–µ –º–∞—Å–ª–æ
"""


def load_ingredients_map(telegram_user_id: int):
    """–ó–∞–≥—Ä—É–∑–∏—Ç—å –º–∞–ø–ø–∏–Ω–≥ –Ω–∞–∑–≤–∞–Ω–∏–µ -> ID –∏–∑ poster_ingredients.csv –∏ poster_products.csv"""
    import csv
    from config import get_user_data_dir

    user_dir = get_user_data_dir(telegram_user_id)
    ingredients_file = user_dir / "poster_ingredients.csv"
    products_file = user_dir / "poster_products.csv"

    name_to_id = {}

    # 1. –ó–∞–≥—Ä—É–∑–∏—Ç—å –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã
    if ingredients_file.exists():
        with open(ingredients_file, 'r', encoding='utf-8') as f:
            reader = csv.DictReader(f)
            for row in reader:
                name = row['ingredient_name'].strip()
                ingredient_id = int(row['ingredient_id'])
                name_to_id[name.lower()] = (ingredient_id, name, 'ingredient')
        logger.info(f"üìã Loaded {len(name_to_id)} ingredients from Poster")
    else:
        logger.warning(f"‚ö†Ô∏è Ingredients file not found: {ingredients_file}")

    # 2. –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ç–æ–≤–∞—Ä—ã (products)
    if products_file.exists():
        products_count = 0
        with open(products_file, 'r', encoding='utf-8') as f:
            reader = csv.DictReader(f)
            for row in reader:
                name = row['product_name'].strip()
                product_id = int(row['product_id'])
                name_to_id[name.lower()] = (product_id, name, 'product')
                products_count += 1
        logger.info(f"üìã Loaded {products_count} products from Poster")
    else:
        logger.warning(f"‚ö†Ô∏è Products file not found: {products_file}")

    logger.info(f"üìã Total items available: {len(name_to_id)}")
    return name_to_id


def add_aliases(telegram_user_id: int):
    """–î–æ–±–∞–≤–∏—Ç—å –∞–ª–∏–∞—Å—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö"""

    db = get_database()
    name_to_id = load_ingredients_map(telegram_user_id)

    if not name_to_id:
        logger.error("‚ùå Cannot proceed without ingredients map")
        return

    # –ü–∞—Ä—Å–∏–º –∞–ª–∏–∞—Å—ã
    aliases_to_add = []
    not_found = []

    for line in ALIASES_DATA.strip().split('\n'):
        if not line.strip():
            continue

        # –†–∞–∑–¥–µ–ª—è–µ–º –ø–æ —Ç–∞–±—É–ª—è—Ü–∏–∏ –∏–ª–∏ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–º –ø—Ä–æ–±–µ–ª–∞–º
        parts = line.split('    ')
        if len(parts) != 2:
            logger.warning(f"‚ö†Ô∏è Skipping invalid line: {line}")
            continue

        alias_text = parts[0].strip()
        poster_name = parts[1].strip()

        # –ò—â–µ–º ID –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–∞ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é
        poster_name_lower = poster_name.lower()

        if poster_name_lower in name_to_id:
            item_id, item_name, item_type = name_to_id[poster_name_lower]
            aliases_to_add.append({
                'alias_text': alias_text,
                'poster_item_id': item_id,
                'poster_item_name': item_name,
                'source': item_type,  # 'ingredient' –∏–ª–∏ 'product'
                'notes': '–î–æ–±–∞–≤–ª–µ–Ω–æ —á–µ—Ä–µ–∑ add_user_aliases.py'
            })
        else:
            not_found.append(f"{alias_text} ‚Üí {poster_name}")

    # –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —á—Ç–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ
    if not_found:
        logger.warning(f"\n‚ö†Ô∏è Not found in Poster ({len(not_found)} items):")
        for item in not_found:
            logger.warning(f"   ‚Ä¢ {item}")

    # –î–æ–±–∞–≤–ª—è–µ–º –≤ –ë–î
    if aliases_to_add:
        logger.info(f"\nüìù Adding {len(aliases_to_add)} aliases to database...")
        count = db.bulk_add_aliases(telegram_user_id, aliases_to_add)
        logger.info(f"‚úÖ Successfully added {count}/{len(aliases_to_add)} aliases")

        # –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–∏–º–µ—Ä–æ–≤
        logger.info(f"\nüìã Examples:")
        for alias in aliases_to_add[:5]:
            logger.info(f"   ‚Ä¢ '{alias['alias_text']}' ‚Üí {alias['poster_item_name']} (ID={alias['poster_item_id']})")
        if len(aliases_to_add) > 5:
            logger.info(f"   ... –∏ –µ—â—ë {len(aliases_to_add) - 5} –∞–ª–∏–∞—Å–æ–≤")

    logger.info(f"\n{'='*60}")
    logger.info(f"‚úÖ DONE!")
    logger.info(f"   ‚Ä¢ Added: {len(aliases_to_add)} aliases")
    logger.info(f"   ‚Ä¢ Not found: {len(not_found)} items")
    logger.info(f"   ‚Ä¢ Total ingredients in Poster: {len(name_to_id)}")
    logger.info(f"{'='*60}")


if __name__ == "__main__":
    # ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    TELEGRAM_USER_ID = 167084307

    logger.info(f"Starting alias import for user {TELEGRAM_USER_ID}...")
    add_aliases(TELEGRAM_USER_ID)
